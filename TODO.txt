1. Add color selection functionality.
2. Add in global registration functionality.
3. Move the logic for each of the dialogs out of the dialog and into
   a generic "actions" module.
